# Repository Guidelines

## 项目结构与模块组织
- `Dayi/Dayi` 为主工程源码，包含 `Views/`（页面与组件）、`ViewModels/`（状态与业务逻辑）、`Models/`（数据模型）、`Extensions/`（类型扩展）。
- 资源文件位于 `Dayi/Dayi/Assets.xcassets`，App 图标在 `AppIcon.appiconset`。
- Xcode 项目配置在 `Dayi/Dayi.xcodeproj`。

## 构建、测试与开发命令
- 使用 Xcode 打开 `Dayi/Dayi.xcodeproj` 运行与调试。
- 本仓库未提供命令行构建或测试脚本；如需 CLI，可手动执行 `xcodebuild`（仅在你明确要求时）。

## 编码风格与命名约定
- 语言：Swift + SwiftUI。
- 缩进：4 空格；保持与现有文件一致。
- 类型与文件名使用 `UpperCamelCase`（如 `PeriodViewModel.swift`），属性/方法使用 `lowerCamelCase`。
- UI 布局遵循项目内响应式规则（参见 `响应式布局转换说明.md`）。
- 注释需解释用途，不写计算公式或像素值。

## 变更确认流程
- 涉及任何代码或文件修改前，先用自己的话复述理解与预期结果，再请求用户确认后执行。
- 仅回答问题或查询信息时，可直接作答，无需确认流程。

## 响应式 UI 规则
- 基准设备：iPhone 15（393×852 pt）。
- 所有 UI 尺寸使用屏幕比例，不使用固定像素值。
- 垂直：`geometry.size.height * 比例值`，水平：`geometry.size.width * 比例值`。
- 直接写计算后的比例值（保留 4 位小数），不要在代码中写除法表达式。

## 注释规则
- 注释说明语义和用途，不重复代码含义。
- 禁止在注释中包含计算公式、像素值或颜色代码。
- 涉及样式/显示的注释需清晰说明用途（如标题间距、角标字号、选中态背景色）。

## 代码修改原则
- 性能优化与重构（不改变业务行为）可直接执行。
- 任何业务行为变化（默认值、逻辑、数据来源、交互行为、功能增删）必须先确认；不确定时先询问并提供方案。

## iOS 原生实现优先
- 优先使用 SwiftUI/UIKit 标准原生 API，其次苹果官方推荐方式，最后才是自定义实现。
- 若原生实现有局限，需说明限制并给出可选方案，由用户决定。

## 测试指南
- 当前未发现单元测试目录与测试框架配置。
- 如需新增测试，建议使用 `XCTest`，并在 `DayiTests/` 约定目录下创建测试文件（示例：`PeriodViewModelTests.swift`）。

## 提交与 PR 规范
- 提交信息采用简短前缀风格，如 `chore:`、`refactor:`，后接简洁描述（示例：`chore: 发布前自动提交`）。
- 若提交影响 UI，请在 PR/说明中附上截图或录屏；描述中应包含变更动机、影响范围与验证方式。

## 其他说明
- 禁止自动执行 `xcodebuild` 构建；仅在用户明确要求时才运行。
- 助手始终使用简体中文回复。
